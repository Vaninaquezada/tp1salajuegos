import{a as m}from"./chunk-HTOYDNA7.js";import{$a as o,Aa as C,Ca as i,Ga as b,Ka as P,Ob as M,Rb as j,S as k,Ua as g,Wa as h,X as x,Xa as r,Ya as a,Za as u,bb as I,hb as s,ib as S,jb as l,kb as v,pb as d}from"./chunk-N5BIHXGG.js";import{e as y}from"./chunk-U7UK6LYI.js";var _=class p{constructor(e){this.http=e}getImg(){return this.http.get("https://pixabay.com/api/?key=21351108-e70e13da005029798b867e59c&q=movies&image_type=photo&category=entretaiment&safesearch=true")}getImgById(e){return this.http.get("https://pixabay.com/api/?key=21351108-e70e13da005029798b867e59c&id="+e+"&safesearch=true")}static \u0275fac=function(n){return new(n||p)(x(m))};static \u0275prov=k({token:p,factory:p.\u0275fac,providedIn:"root"})};var f=p=>({"background-color":p}),w=class p{constructor(e,n){this.httpClient=e;this.svcImg=n;this.httpClient.get("assets/json/preguntas.json").subscribe(t=>{this.interprete_bp=t}),this.imagen="",this.respuesta1="",this.respuesta2="",this.respuesta3="",this.respuesta4="",this.estilo1="",this.estilo2="",this.cantPreguntas=1,this.estilo3="",this.estilo4="",this.pregunta="",this.erradas=0,this.categoria="",this.preguntaActual="",this.numero="",this.estiloImagen="",this.estilos=[this.estilo1,this.estilo2,this.estilo3,this.estilo4],this.posibles_respuestas=[],this.btn_correspondiente=[this.respuesta4,this.respuesta1,this.respuesta2,this.respuesta3],setTimeout(()=>{this.escogerPreguntaAleatoria()},300)}imagen;cantPreguntas;estiloImagen;pregunta;respuesta4;respuesta3;respuesta2;respuesta1;npreguntas=[];erradas;preguntas_hechas=0;preguntas_correctas=0;suspender_botones=!1;base_preguntas;interprete_bp;estilo1;estilo2;estilo3;estilo4;categoria;preguntaActual;numero;puntaje="";yellowd="yellow";posibles_respuestas;estilos;btn_correspondiente;victoria="";start="visible";perdiste="";opcion="Siguiente";resultadoText="";resultado={};img=[];im;ngOnInit(){}desordenarRespuestas(e){this.posibles_respuestas=[e.respuesta,e.incorrecta1,e.incorrecta2,e.incorrecta3],this.posibles_respuestas.sort(()=>Math.random()-.5),this.respuesta1=this.posibles_respuestas[0],this.respuesta2=this.posibles_respuestas[1],this.respuesta3=this.posibles_respuestas[2],this.respuesta4=this.posibles_respuestas[3]}reiniciar(){this.cantPreguntas++,this.suspender_botones=!1;for(let e=0;e<this.estilos.length;e++)this.estilos[e]="white";this.cantPreguntas>5?this.ckeckJuego():this.escogerPreguntaAleatoria(),this.cantPreguntas===5?this.opcion="Finalizar":this.opcion="Siguiente"}escogerPreguntaAleatoria(){let e=0;for(e=Math.floor(Math.random()*this.interprete_bp.length);this.npreguntas.includes(e);)e++,e>=this.interprete_bp.length&&(e=0),this.npreguntas.length===this.interprete_bp.length&&(this.npreguntas=[]);this.npreguntas.push(e),this.preguntas_hechas++,this.escogerPregunta(e)}oprimir_btn(e){if(!this.suspender_botones){this.suspender_botones=!0,this.posibles_respuestas[e]==this.pregunta.respuesta?(this.preguntas_correctas++,this.estilos[e]="lightgreen"):(this.estilos[e]="pink",this.erradas++);for(let n=0;n<4;n++)if(this.posibles_respuestas[n]==this.pregunta.respuesta){this.estilos[n]="lightgreen";break}}}escogerPregunta(e){this.pregunta=this.interprete_bp[e],console.log("id "+this.pregunta.id),this.getImage(this.pregunta.id),this.categoria=this.pregunta.categoria,this.preguntaActual=this.pregunta.pregunta,this.numero=e;let n=this.preguntas_correctas;this.preguntas_hechas>1?this.puntaje=n+"/"+(this.preguntas_hechas-1):this.puntaje="",this.desordenarRespuestas(this.pregunta),console.log("this.ierwrmagen "+this.img[0].largeImageUR),console.log("this.imagen "+this.imagen),this.estiloImagen={height:"200px",width:"100%"}}ckeckJuego(){this.erradas>2?(this.perdiste="visible",this.resultadoText="Perdiste"):(this.resultadoText="Ganaste",this.victoria="visible"),this.resultado={tiempo:"N/A",resultado:this.resultadoText,errores:this.erradas,clicks:"N/A",correctas:this.preguntas_correctas,juego:"Preguntados"}}clickBoton(){this.cantPreguntas=0,this.reiniciar(),this.puntaje="",this.numero="",this.erradas=0,this.perdiste="",this.victoria="",this.start="",this.preguntas_correctas=0}getImg(e){return y(this,null,function*(){this.img=e})}getImage(e){this.svcImg.getImgById(e).subscribe(n=>{this.im=n,console.log("imagenes "+JSON.stringify(n)),console.log("imagenes ",this.im),this.imagen=this.im.hits[0].webformatURL,this.estiloImagen={height:"300px",width:"100%"},this.getImg(this.im.hits)})}static \u0275fac=function(n){return new(n||p)(b(m),b(_))};static \u0275cmp=P({type:p,selectors:[["app-preguntados"]],decls:40,vars:36,consts:[[1,"juegoContainer"],[1,"juego"],[1,"game"],[3,"click"],["id","victory-text",3,"click"],[1,"overlay-text-small"],[1,"bodyJuego"],["id","puntaje",1,"puntaje"],[1,"encabezado"],["id","categoria",1,"categoria"],["id","numero",1,"numero"],["id","pregunta",1,"pregunta"],["id","imagen",1,"imagen",3,"src","ngStyle"],["id","btn1",1,"btn",3,"click","ngStyle"],["id","btn2",1,"btn",3,"click","ngStyle"],["id","btn3",1,"btn",3,"click","ngStyle"],["id","btn4",1,"btn",3,"click","ngStyle"],[1,"fill",3,"click"]],template:function(n,t){n&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),o("click",function(){return t.clickBoton()}),s(4," Click para empezar "),a(),r(5,"div",4),o("click",function(){return t.clickBoton()}),s(6),r(7,"span",5),u(8,"br")(9,"br")(10,"br")(11,"br"),s(12,"Click para jugar de nuevo"),a()(),r(13,"div",4),o("click",function(){return t.clickBoton()}),s(14),r(15,"span",5),u(16,"br"),s(17,"Click para jugar de nuevo"),a()(),r(18,"div",6)(19,"div",7),s(20),u(21,"br"),s(22),a(),r(23,"div",8)(24,"div",9),s(25),a(),u(26,"div",10),r(27,"div",11),s(28),a(),u(29,"img",12),a(),r(30,"div",13),o("click",function(){return t.oprimir_btn(0)}),s(31),a(),r(32,"div",14),o("click",function(){return t.oprimir_btn(1)}),s(33),a(),r(34,"div",15),o("click",function(){return t.oprimir_btn(2)}),s(35),a(),r(36,"div",16),o("click",function(){return t.oprimir_btn(3)}),s(37),a(),r(38,"button",17),o("click",function(){return t.reiniciar()}),s(39),a()()()()()),n&2&&(i(3),h("overlay-text ",t.start,""),i(2),h("overlay-text ",t.victoria,""),i(),v(" ",t.resultadoText," tenes ",t.preguntas_correctas," respuestas correctas "),i(7),h("overlay-text ",t.perdiste,""),i(),v(" ",t.resultadoText," tenes ",t.erradas," erroneas "),i(6),l(" Puntaje: ",t.preguntas_correctas," "),i(2),l(" Preguntas erroneas: ",t.erradas," "),i(3),l("Categoria: ",t.categoria,""),i(3),l(" ",t.preguntaActual," "),i(),I("src",t.imagen,C),g("ngStyle",t.estiloImagen),i(),g("ngStyle",d(28,f,t.estilos[0])),i(),l(" ",t.respuesta1," "),i(),g("ngStyle",d(30,f,t.estilos[1])),i(),l(" ",t.respuesta2," "),i(),g("ngStyle",d(32,f,t.estilos[2])),i(),l(" ",t.respuesta3," "),i(),g("ngStyle",d(34,f,t.estilos[3])),i(),l(" ",t.respuesta4," "),i(2),S(t.opcion))},dependencies:[j,M],styles:['*[_ngcontent-%COMP%]{transition:all .3s}img[_ngcontent-%COMP%]{height:"300px";width:"100%"}.bodyJuego[_ngcontent-%COMP%]{padding:0;margin:0;text-align:center;font-family:calibri;font-size:120%;display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:100vh}.encabezado[_ngcontent-%COMP%]{position:relative;background:#fff;min-width:300px;width:70%;max-width:600px;padding:10px}.categoria[_ngcontent-%COMP%]{opacity:.3;text-align:left;color:#0e7bad}.pregunta[_ngcontent-%COMP%]{padding:10px;color:#0e7bad}.imagen[_ngcontent-%COMP%]{object-fit:cover;height:0px;width:0px}.btn[_ngcontent-%COMP%]{background:#fff;width:60%;max-width:550px;padding:10px;margin:5px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.numero[_ngcontent-%COMP%]{position:absolute;opacity:.3;top:10px;right:10px}.puntaje[_ngcontent-%COMP%]{padding:10px;color:#0e7bad;font-size:large}.overlay-text[_ngcontent-%COMP%]{inset:0;z-index:100;display:none;position:fixed;justify-content:center;align-items:center;flex-direction:column;color:#c1ff83;font-family:Creepy,serif;transition:background-color .5s,font-size .5s}.overlay-text-small[_ngcontent-%COMP%]{font-size:.3em}.overlay-text.visible[_ngcontent-%COMP%]{display:flex;animation:_ngcontent-%COMP%_overlay-grow .5s forwards}@keyframes _ngcontent-%COMP%_overlay-grow{0%{background-color:#0000;font-size:0}to{background-color:#000c;font-size:6em}}.fill[_ngcontent-%COMP%]{font-size:20px;font-weight:200;letter-spacing:1px;padding:13px 50px;outline:0;border:1px solid black;cursor:pointer;position:relative;background-color:#0000;margin:20px}.fill[_ngcontent-%COMP%]:after{content:"";background-color:#4cffff;width:100%;z-index:-1;position:absolute;height:100%;top:7px;left:7px;transition:.2s}.fill[_ngcontent-%COMP%]:hover:after{top:0;left:0}']})};export{w as PreguntadosComponent};
